---
import lightTheme from '@carbon/icons/svg/32/awake.svg?raw';
import darkTheme from '@carbon/icons/svg/32/asleep.svg?raw';
---

<div class="theme-switch">
  <button class="theme-switch__button" aria-label="Theme Switch">
    <div class="light">
      <Fragment set:html={lightTheme} />
    </div>
    <div class="dark">
      <Fragment set:html={darkTheme} />
    </div>
  </button>
</div>

<style>
  .theme-switch {
    width: 2rem;
    height: 2rem;
    cursor: pointer;
    margin: 0.4rem;
  }

  .theme-switch__button {
    cursor: pointer;
    background: none;
    width: 2rem;
    height: 2rem;
    border: 1px solid var(--color-text);
    background-color: var(--color-surface);
    padding: 2px;
    transition:
      box-shadow 70ms linear,
      translate 70ms linear;
    box-shadow:
      0px 0px 0 -1px var(--color-surface),
      0px 0px var(--color-text);
  }

  .theme-switch:hover .theme-switch__button {
    translate: -3px -3px;
    background-color: var(--color-bg);
    box-shadow:
      3px 3px 0 -1px var(--color-surface),
      3px 3px var(--color-text);
  }

  .theme-switch__button :global(svg) {
    display: block;
    width: 100%;
    height: 100%;
    fill: var(--color-text);
    transition: scale 70ms linear;
  }

  .theme-switch__button:active :global(svg) {
    scale: 0.8;
  }

  .theme-switch__button .light {
    display: none;
  }

  :global([data-theme='dark']) .theme-switch__button .dark {
    display: none;
  }

  :global([data-theme='dark']) .theme-switch__button .light {
    display: block;
  }
</style>
